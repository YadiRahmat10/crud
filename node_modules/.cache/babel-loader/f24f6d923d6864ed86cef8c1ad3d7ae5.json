{"ast":null,"code":"var _jsxFileName = \"D:\\\\reactjs\\\\react\\\\src\\\\pages\\\\Customers.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState, useContext } from 'react';\nimport { Link, useNavigate, useLocation } from 'react-router-dom';\nimport AddCustomer from '../components/AddCustomer';\nimport { baseUrl } from '../shared';\nimport { LoginContext } from '../App';\nimport useFetch from '../hooks/UseFetch';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Customers() {\n  _s();\n\n  const [loggedIn, setLoggedIn] = useContext(LoginContext); //const [customers, setCustomers] = useState();\n\n  const [show, setShow] = useState(false);\n\n  function toggleShow() {\n    setShow(!show);\n  }\n\n  const location = useLocation();\n  const navigate = useNavigate();\n  const url = baseUrl + 'api/customers/';\n  const {\n    request,\n    appendData,\n    data: {\n      customers\n    } = {},\n    errorStatus\n  } = useFetch(url, {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: 'Bearer ' + localStorage.getItem('access')\n    }\n  });\n  useEffect(() => {\n    request();\n  }, []); //useEffect(() => {\n  //    console.log(request, appendData, customers, errorStatus);\n  //});\n\n  function newCustomer(name, industry) {\n    appendData({\n      name: name,\n      industry: industry\n    });\n\n    if (!errorStatus) {\n      toggleShow();\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Here are our customers:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), customers ? customers.map(customer => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"m-2\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: '/customers/' + customer.id,\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"no-underline bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded\",\n            children: customer.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 35\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 31\n        }, this)\n      }, customer.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 27\n      }, this);\n    }) : null, /*#__PURE__*/_jsxDEV(AddCustomer, {\n      newCustomer: newCustomer,\n      show: show,\n      toggleShow: toggleShow\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Customers, \"3ogRDx3XURIwSJloTXkAAtm7r6k=\", false, function () {\n  return [useLocation, useNavigate, useFetch];\n});\n\n_c = Customers;\n\nvar _c;\n\n$RefreshReg$(_c, \"Customers\");","map":{"version":3,"names":["useEffect","useState","useContext","Link","useNavigate","useLocation","AddCustomer","baseUrl","LoginContext","useFetch","Customers","loggedIn","setLoggedIn","show","setShow","toggleShow","location","navigate","url","request","appendData","data","customers","errorStatus","method","headers","Authorization","localStorage","getItem","newCustomer","name","industry","map","customer","id"],"sources":["D:/reactjs/react/src/pages/Customers.js"],"sourcesContent":["import { useEffect, useState, useContext } from 'react';\r\nimport { Link, useNavigate, useLocation } from 'react-router-dom';\r\nimport AddCustomer from '../components/AddCustomer';\r\nimport { baseUrl } from '../shared';\r\nimport { LoginContext } from '../App';\r\nimport useFetch from '../hooks/UseFetch';\r\n\r\nexport default function Customers() {\r\n    const [loggedIn, setLoggedIn] = useContext(LoginContext);\r\n    //const [customers, setCustomers] = useState();\r\n    const [show, setShow] = useState(false);\r\n\r\n    function toggleShow() {\r\n        setShow(!show);\r\n    }\r\n\r\n    const location = useLocation();\r\n    const navigate = useNavigate();\r\n\r\n    const url = baseUrl + 'api/customers/';\r\n    const {\r\n        request,\r\n        appendData,\r\n        data: { customers } = {},\r\n        errorStatus,\r\n    } = useFetch(url, {\r\n        method: 'GET',\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            Authorization: 'Bearer ' + localStorage.getItem('access'),\r\n        },\r\n    });\r\n\r\n    useEffect(() => {\r\n        request();\r\n    }, []);\r\n\r\n    //useEffect(() => {\r\n    //    console.log(request, appendData, customers, errorStatus);\r\n    //});\r\n\r\n    function newCustomer(name, industry) {\r\n        appendData({ name: name, industry: industry });\r\n\r\n        if (!errorStatus) {\r\n            toggleShow();\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <h1>Here are our customers:</h1>\r\n            {customers\r\n                ? customers.map((customer) => {\r\n                      return (\r\n                          <div className=\"m-2\" key={customer.id}>\r\n                              <Link to={'/customers/' + customer.id}>\r\n                                  <button className=\"no-underline bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded\">\r\n                                      {customer.name}\r\n                                  </button>\r\n                              </Link>\r\n                          </div>\r\n                      );\r\n                  })\r\n                : null}\r\n\r\n            <AddCustomer\r\n                newCustomer={newCustomer}\r\n                show={show}\r\n                toggleShow={toggleShow}\r\n            />\r\n        </>\r\n    );\r\n}\r\n"],"mappings":";;;AAAA,SAASA,SAAT,EAAoBC,QAApB,EAA8BC,UAA9B,QAAgD,OAAhD;AACA,SAASC,IAAT,EAAeC,WAAf,EAA4BC,WAA5B,QAA+C,kBAA/C;AACA,OAAOC,WAAP,MAAwB,2BAAxB;AACA,SAASC,OAAT,QAAwB,WAAxB;AACA,SAASC,YAAT,QAA6B,QAA7B;AACA,OAAOC,QAAP,MAAqB,mBAArB;;;AAEA,eAAe,SAASC,SAAT,GAAqB;EAAA;;EAChC,MAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BV,UAAU,CAACM,YAAD,CAA1C,CADgC,CAEhC;;EACA,MAAM,CAACK,IAAD,EAAOC,OAAP,IAAkBb,QAAQ,CAAC,KAAD,CAAhC;;EAEA,SAASc,UAAT,GAAsB;IAClBD,OAAO,CAAC,CAACD,IAAF,CAAP;EACH;;EAED,MAAMG,QAAQ,GAAGX,WAAW,EAA5B;EACA,MAAMY,QAAQ,GAAGb,WAAW,EAA5B;EAEA,MAAMc,GAAG,GAAGX,OAAO,GAAG,gBAAtB;EACA,MAAM;IACFY,OADE;IAEFC,UAFE;IAGFC,IAAI,EAAE;MAAEC;IAAF,IAAgB,EAHpB;IAIFC;EAJE,IAKFd,QAAQ,CAACS,GAAD,EAAM;IACdM,MAAM,EAAE,KADM;IAEdC,OAAO,EAAE;MACL,gBAAgB,kBADX;MAELC,aAAa,EAAE,YAAYC,YAAY,CAACC,OAAb,CAAqB,QAArB;IAFtB;EAFK,CAAN,CALZ;EAaA5B,SAAS,CAAC,MAAM;IACZmB,OAAO;EACV,CAFQ,EAEN,EAFM,CAAT,CA1BgC,CA8BhC;EACA;EACA;;EAEA,SAASU,WAAT,CAAqBC,IAArB,EAA2BC,QAA3B,EAAqC;IACjCX,UAAU,CAAC;MAAEU,IAAI,EAAEA,IAAR;MAAcC,QAAQ,EAAEA;IAAxB,CAAD,CAAV;;IAEA,IAAI,CAACR,WAAL,EAAkB;MACdR,UAAU;IACb;EACJ;;EAED,oBACI;IAAA,wBACI;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADJ,EAEKO,SAAS,GACJA,SAAS,CAACU,GAAV,CAAeC,QAAD,IAAc;MACxB,oBACI;QAAK,SAAS,EAAC,KAAf;QAAA,uBACI,QAAC,IAAD;UAAM,EAAE,EAAE,gBAAgBA,QAAQ,CAACC,EAAnC;UAAA,uBACI;YAAQ,SAAS,EAAC,uFAAlB;YAAA,UACKD,QAAQ,CAACH;UADd;YAAA;YAAA;YAAA;UAAA;QADJ;UAAA;UAAA;UAAA;QAAA;MADJ,GAA0BG,QAAQ,CAACC,EAAnC;QAAA;QAAA;QAAA;MAAA,QADJ;IASH,CAVD,CADI,GAYJ,IAdV,eAgBI,QAAC,WAAD;MACI,WAAW,EAAEL,WADjB;MAEI,IAAI,EAAEhB,IAFV;MAGI,UAAU,EAAEE;IAHhB;MAAA;MAAA;MAAA;IAAA,QAhBJ;EAAA,gBADJ;AAwBH;;GAlEuBL,S;UASHL,W,EACAD,W,EAQbK,Q;;;KAlBgBC,S"},"metadata":{},"sourceType":"module"}